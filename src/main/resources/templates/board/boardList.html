<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Wanderin' Free - 게시판</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        /* 배경색을 연한 회색으로 변경 */
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8f9fa; color: #333; overflow-x: hidden; }
        
        /* 메뉴 하단 애니메이션 바 */
        .menu-underline {
            position: absolute;
            bottom: -32px;
            left: 0;
            width: 0;
            height: 4px;
            background-color: #0056ff;
            transition: all 0.3s ease;
        }
        .group:hover .menu-underline {
            width: 100%;
        }

        /* 테이블 스타일 강화: 라인을 더 선명하게 */
        .board-table th { border-top: 2px solid #333; border-bottom: 1px solid #ddd; background-color: #fcfcfc; }
        .board-table td { border-bottom: 1px solid #eee; }
        .board-table tr:hover { background-color: #f1f5f9; }
    </style>
</head>
<body>

<header class="w-full bg-white border-b-2 border-gray-50 sticky top-0 z-50 shadow-sm">
    <div class="w-full px-12 h-24 flex items-center justify-between">
        <div class="flex-none">
            <a th:href="@{/}" class="text-3xl font-[900] tracking-tighter text-black hover:text-blue-600 transition-colors whitespace-nowrap">
                WANDERIN' FREE
            </a>
        </div>

        <nav class="absolute left-1/2 -translate-x-1/2">
            <ul class="flex space-x-24 font-bold text-xl text-gray-800">
                <li class="relative group">
                    <a href="#" class="hover:text-blue-600 transition-colors">소식</a>
                    <span class="menu-underline"></span>
                </li>
                <li class="relative group">
                    <a href="#" class="hover:text-blue-600 transition-colors">정보</a>
                    <span class="menu-underline"></span>
                </li>
                <li class="relative group">
                    <a th:href="@{/board}" class="text-blue-600 transition-colors">게시판</a>
                    <span class="menu-underline" style="width: 100%;"></span>
                </li>
                <li class="relative group">
                    <a href="#" class="hover:text-blue-600 transition-colors">고객지원</a>
                    <span class="menu-underline"></span>
                </li>
            </ul>
        </nav>

        <div class="flex-none flex items-center space-x-8 text-base font-bold text-gray-600">
            <th:block th:if="${session.loginMember == null}">
                <a th:href="@{/member/add}" class="hover:text-black transition-colors whitespace-nowrap">회원가입</a>
                <a th:href="@{/login}" class="border-2 border-gray-900 px-7 py-2 rounded-full text-black hover:bg-gray-900 hover:text-white transition-all shadow-sm whitespace-nowrap">
                    로그인
                </a>
            </th:block>

            <th:block th:if="${session.loginMember != null}">
                <div class="flex items-center space-x-4">
                    <span class="text-black font-black">
                        <span class="text-blue-600" th:text="${session.loginMember.name}">사용자</span>님 환영합니다
                    </span>
                    <form th:action="@{/logout}" method="post" class="inline">
                        <button type="submit" class="border-2 border-gray-200 px-6 py-2 rounded-full text-gray-500 hover:border-red-500 hover:text-red-500 transition-all whitespace-nowrap">
                            로그아웃
                        </button>
                    </form>
                </div>
            </th:block>
        </div>
    </div>
</header>

<main class="max-w-[1200px] mx-auto py-16 px-10 my-12 bg-white rounded-[2rem] shadow-xl shadow-gray-200/50 border border-gray-100">
    <div class="mb-12">
        <h2 class="text-4xl font-black text-gray-900 tracking-tight">자유게시판</h2>
        <p class="text-gray-500 mt-2 font-medium">유저들과 자유롭게 모험 이야기를 나누는 공간입니다.</p>
    </div>

    <div class="flex justify-between items-end mb-6">
        <div class="text-sm text-gray-500 font-medium">
            Total <span class="text-black font-bold" th:text="${posts.size()}">0</span>
        </div>

        <a th:if="${session.loginMember != null}"
           th:href="@{/board/write}"
           class="bg-blue-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-blue-700 transition-all shadow-md active:scale-95">
            글쓰기
        </a>
    </div>

    <table class="w-full board-table text-left border-collapse">
        <thead>
        <tr class="text-center h-14 text-gray-800 text-sm tracking-widest">
            <th class="w-24">NO</th>
            <th>SUBJECT</th>
            <th class="w-32">NAME</th>
            <th class="w-32">DATE</th>
            <th class="w-24">HIT</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="post : ${posts}" class="h-16 text-center text-gray-600 border-b border-gray-200/60">
            <td th:text="${post.id}" class="text-sm font-mono text-gray-400">1</td>
            <td class="text-left px-8">
                <a th:href="@{/board/{id}(id=${post.id})}" class="text-gray-900 font-bold hover:text-blue-600 transition-colors">
                    [[${post.title}]]
                </a>
            </td>
            <td th:text="${post.authorName}" class="font-medium text-gray-700">작성자</td>
            <td th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd')}" class="text-sm text-gray-400">2026-01-16</td>
            <td th:text="${post.viewCount}" class="text-sm font-mono text-gray-400">0</td>
        </tr>

        <tr th:if="${posts == null || posts.isEmpty()}" class="h-40">
            <td colspan="5" class="text-center text-gray-400 font-medium bg-gray-50/50">
                작성된 게시글이 없습니다. 첫 번째 모험가가 되어보세요!
            </td>
        </tr>
        </tbody>
    </table>

    <div class="flex justify-center mt-16 space-x-1">
        <button class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 text-gray-300 hover:text-blue-600 hover:border-blue-600 transition-all">&laquo;</button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg bg-gray-900 text-white font-bold shadow-lg shadow-gray-300">1</button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 text-gray-500 hover:bg-gray-50 hover:border-gray-400 transition-colors">&raquo;</button>
    </div>
</main>

</body>
</html>